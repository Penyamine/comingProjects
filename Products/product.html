<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../static/product-style.css">
    <script defer src="../productJs.js" type="text/javascript"></script>
</head>
<body>
    <div class="landing">
            <div class="logo">
                <img class="logo-icon" src="../static/images/logo.png" alt="logo">
            </div>    
        <div class="button-action">
            <button  id="add-button">Add Product</button>
            <button  id="update-button">Update Product</button>
            <button  id="delete-button">Delete Product</button>
        </div>
        <div class="add-product" >
            <form  class="add-form" method="post"  enctype="multipart/form-data">
                <label for="product-id-label">Product Id</label>
                <input type="text" name="product-id-for-add" id="product-id-for-add" placeholder="Enter Product Id" required>    
                <br>
                <label for="product-name-label">Product Name</label>
                <input type="text" name="product-name-for-add" id="product-name-for-add" placeholder="Enter Product Name" required>
                <br>
                <label for="product-desc-label">Product Description</label>
                <textarea name="description-for-add" id="description-for-add" cols="30" rows="10" placeholder="Describe about Product" required></textarea>
                <br>
                <label for="product-image-label">Product Image</label>
                <input type="file" name="image-for-add" id="image_for_add" accept="image/*" required>
                <br>
                <img id="preview" alt="Image" src="">
                <script type="text/javascript">
                    const preview=document.getElementById('preview');
                    document.getElementById('image_for_add').addEventListener('change',
                        function(event)
                        {
                            const file=image_for_add.files[0]
                            if(file){
                                preview.src=URL.createObjectURL(file)                            
                                preview.style.display='block'
                            }
                        }
                    );                
                </script>
                <button  id="add-product-button" type="button">Add Product </button>
            </form>



        </div>
        
        <div class="update-product" >
            <form  class="update-form" method="post" enctype="multipart/form-data">
                <label for="product-id-label">Product Id</label>
                <input type="text" name="product-id-for-update" id="product-id-for-update" placeholder="Enter Product Id">    
                <br>
                
                <button id="show-details-button"  >show Details</button>
                    <div class="need-details-div" style="display: none;">
                        <div class="update-section"> 
 <!--                       <label for="product-name-label">Product Name</label>
                        -->
                        <div class="name-update-section">
                            <input type="text"  id="product-name-for-update" disabled>
                            <input type="text" name="need-product-name-for-update" placeholder="Enter Product Name"   id="need-product-name-for-update">
                            <button id="update-product-name-btn">Update Product Name</button>
    
                        </div>
                        
                        </div>
                        <br>
                        <div class="update-section">
<!--                            <label for="product-desc-label">Product Description</label>
                        -->
                        <div class="desc-update-section">
                            <textarea  id="description-for-update" cols="30" rows="10"disabled placeholder="Describe about Product"></textarea>
                            <textarea name="need-description-for-update" id="need-description-for-update" placeholder="Give Description What you Update" cols="30" rows="10"></textarea>
                            <button id="update-product-desc-btn">Update Description</button>
                        </div>
                        </div>                        

                        <br>
                        <div class="update-section">
<!--                            <label for="product-image-label">Product Image</label>          
                        -->
                            <div class="image-update-section">
                                <input type="file" name="image-for-update" id="image-for-update" accept="image/*" required>     
                                <img id="preview-for-update" src="" alt="image" >                       
                                <button type="button" id="update-product-image-btn">Update Image</button>                                
                            </div>
                        </div>
                        <script type="text/javascript">
                            const previewForUpdate=document.getElementById('preview-for-update');
                            document.getElementById('image-for-update').addEventListener('change',
                                function(event)
                                {
                                    const file=event.target.files[0]
//                                    alert(file);
                                    if(file){
                                        previewForUpdate.src=URL.createObjectURL(file)                            
                                        // previewForUpdate.style.display='block'
                                    }
                                }
                            );                
                        </script>
                        <!-- document.getElementById('update-image-form').addEventListener('submit', function(event) 
                        { 
                            event.preventDefault(); 
                            // Prevent the default form submission 
                            const formData = new FormData(this); 
                            fetch(this.action, { method: 'POST', body: formData }) .then(response => response.json()) .then(data => { if (data.success) { alert(data.success); // Show success message as alert } else if (data.error) { alert(data.error); // Show error message as alert } }) .catch(error => { console.error('Error:', error); alert('An error occurred while updating the image.'); }); }); -->
                    </div>
                    
            </form>

        </div>
        <div class="delete-product" >
            <form class="delete-form" method="post" action="">
                <label for="product-id-label">Product Id</label>
                <input type="text" name="product-id-for-delete" id="product-id-for-delete" placeholder="Enter Product Id">    
                <br>
                
                <button id="show-details-button-for-delete">show Details</button>
                    <div class="need-details-div-for-delete" style="display: none ;">
                        <label for="product-name-label">Product Name</label>
                        <input type="text" name="product-name-for-delete" id="product-name-for-delete" placeholder="Enter Product Name" readonly>
                        <br>
                        
                        <label for="product-desc-label">Product Description</label>
                        <textarea name="description-for-delete" id="description-for-delete" cols="30" rows="10" placeholder="Describe about Product" readonly></textarea>
                        <br>
                        <label for="product-image-label">Product Image</label>
                        <img id="preview-for-delete" src="" alt="image" style="display: none;">                       
                        <button type="submit" id ="delete-product-btn">Delete Product</button>
                    </div>
            </form>

        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded',()=>
        {
            const username=sessionStorage.getItem('username');
            if(!username)
            {   
                window.location.href='admin.html';
            }
        })
    </script>
</body>
</html>